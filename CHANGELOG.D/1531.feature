Fragment, query, user, password and port parts are not allowed now in URIs (these parts were silently ignored before).
Fixed support of local file paths containing characters like "#", "%", ":", "?", "@" and "~".